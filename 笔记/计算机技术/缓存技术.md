# 缓存技术
* NoSQL入门
    + 时代背景[架构演变]：
    1、单机MySQL:APP->DAL（数据访问层）->MySQL Instance （读写混合）；
    2、Memcached(缓存)+MySQL：（原因：数据量上升，复杂的数据结构[B+Tree]），引入了Memcached分布式缓存技术，为web服务提供缓存（弊端：hash的一致性引发缓存失效），APP->DAL（数据访问层）->cache；
    3、Mysql主从复制读写分离：（原因：Memcached(缓存)解决了数据库读的问题，而写的问题依然严重），出现了Mysql的master-slave模式；APP->DAL（数据访问层）->cache -> M（Write）/S（Read）/S（Read）；
    4、分表分库+水平拆分+MySQL集群：（原因：流量数据，Mysql主从复制读写分离写的问题日趋严重），出现了MySQL Cluster集群；
    5、Mysql扩展瓶颈：大文本字段效率低，NOSQL处理大数据运用而生！
    6、当今架构流程：
    客户请求  --------（企业级防火墙/负载均衡Nginx设备）-------->  APP服务器（多台） ------------（DAL）-------------> Mysql Cluster集群数据库 ------------>缓存服务器/文件（图片）服务器/实时通讯/流媒体/移动信息/电子邮件等服务器（中间件）等；
    + 思考题：高性能架构思路，对于高性能网站，请求量大，如何支撑?
    1、必要减少请求；对于开发人员，提高开发质量（合并css，处理背景图片，优化mysql查询等），对于运维人员善用缓存，如：nginx的expires，利用浏览器缓存等,减少查询；
    2、利用cdn技术来响应请求，CDN加速技术；CDN（Content Delivery Network），即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。
    3、对请求的处理：服务器集群+负载均衡来支撑，这一步思考如何更好的响应高并发请求，既然请求是不可避免的，我们要做的是把工作内容”平均”分给每台服务器，最理想的状态每台服务器的性能都被充分利用。
    + 含义：NoSQL(NoSQL = Not Only SQL )，意即“不仅仅是SQL”，泛指非关系型的数据库。
    + 特点：易扩展、大数据量高性能、多样灵活的数据模型（适合于查询、增删字段是一件非常麻烦的事情）。
    + 比较：

    |           RDBMS           |                                                              NoSQL                                                              |
    | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
    | 高度组织化结构化数据        | 代表着不仅仅是SQL                                                                                                                |
    | 结构化查询语言（SQL）       | 没有声明性查询语言                                                                                                                |
    | 数据和关系都存储在单独的表中 | 没有预定义的模式                                                                                                                 |
    | 数据操纵语言，数据定义语言   | 键值对存储，列存储，文档存储，图形数据库                                                                                            |
    | 严格的一致性               | 最终一致性，而非ACID属性（数据库事务四个基本要素，原子性[Atomicity]、一致性[Consistency]、隔离性/独立性[Isolation]、持久性[Durability]） |
    | 基础事务                   | 非结构化和不可预知的数据                                                                                                          |
    |                           | CAP定理（指的是在一个分布式系统中，Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），三者不可兼得）     |
    |                           | 高性能，高可用性和可伸缩性                                                                                                         |

    + 基础产品：Redis、memcache、Mongdb等
    + 大数据时代的特点：3V + 3高；3V：海量Volume、多样Variety、实时Velocity；3高：高并发、高可扩、高性能；
    + 大数据下的经典案例：以阿里巴巴的商品信息存放为例；
    